<!DOCTYPE html>
<!--
To change this license header, choose License Headers in Project Properties.
To change this template file, choose Tools | Templates
and open the template in the editor.
-->
<html>
    <head>
        <title>Ejercicio1</title>
        <script src="prototype.js" type="text/javascript"> </script>
        <script type="text/javascript">
            function obtenerProvincia(){
                var objson={method:"GET", 
                            onComplete:function(objeto){
                                $("provincia").update(objeto.responseXML.getElementsByTagName("provincia")[0]);
                                $("provincia").innerHTML;
                                $("ciudad").update(objeto.responseXML.getElementsByTagName("ciudad")[0]);
                                $("ciudad").innerHTML;
                                $("direccion").update(objeto.responseXML.getElementsByTagName("direccion")[0]);
                                $("direccion").innerHTML;
                            }
                    };
                var listaPersonas=$("persona");
                var persona = listaPersonas.options[listaPersonas.selectedIndex].value;
                var url = "Datos?persona="+persona;
                new Ajax.Request(url, objson);
            }
        </script>
    </head>
    <body>
        <select id="persona" onchange="obtenerProvincia()" style="display: inline-block">
            <option value="0">Escoge una opcion</option>
            <option value="1">Juan</option>
            <option value="2">Oscar</option>
            <option value="3">Mercedes</option>
            <option value="4">Angeles</option>
        </select>
        <div id="provincia" style="display: block">
        </div>  
        <div id="ciudad" style="display: block">
        </div>  
        <div id="direccion" style="display: block">
        </div>  
    </body>
</html>
