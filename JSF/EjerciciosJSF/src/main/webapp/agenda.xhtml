<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE composition PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
                template="./WEB-INF/plantillas/plantilla.xhtml"
                xmlns:h="http://xmlns.jcp.org/jsf/html"
                xmlns:f="http://java.sun.com/jsf/core">

    <ui:define name="content">
    	<h:form>
	        <h:dataTable id="personas" value="#{personaManagedBean.listadoPersonas}" var="persona">
	            <h:column>
		            <f:facet name="header">#{i18n.dni}</f:facet>
		            #{persona.dni}
	            </h:column>
	            <h:column>
		            <f:facet name="header">#{i18n.nombre}</f:facet>
		            #{persona.nombre}
		        </h:column>
	            <h:column>
		            <f:facet name="header">#{i18n.apellidos}</f:facet>
		            #{persona.apellidos}
		        </h:column>
	            <h:column>
		            <f:facet name="header">#{i18n.fechaNacimiento}</f:facet>
		            <h:outputText value="#{persona.fechaNacimiento}">
	                	<f:convertDateTime pattern="dd/MM/yyyy"/>
	            	</h:outputText>
		        </h:column>
	            <h:column>
		            <f:facet name="header">#{i18n.email}</f:facet>
		            #{persona.email}
		        </h:column>
	            <h:column>
		            <f:facet name="header">#{i18n.telefono}</f:facet>
		            #{persona.telefono}
		        </h:column>
		        <h:column>
		        	<h:commandLink action="#{personaManagedBean.editarPersona(persona.dni)}" value="#{i18n.editar}"/>
		       	</h:column>
		       	<h:column>
		       		<h:commandLink action="#{personaManagedBean.borrarPersona(persona.dni)}" value="#{i18n.borrar}">
						<f:param name="dni" value="#{persona.dni}"/>
					</h:commandLink>
		        </h:column>
	        </h:dataTable>
        </h:form>
        <h:link value="#{i18n.nuevaPersona}" outcome="nuevaPersona"/>
    </ui:define>

</ui:composition>
